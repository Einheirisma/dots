"use strict";(()=>{var A=["https://www.faceit.com/*","https://api.faceit.com/*"];async function P(){let e=await chrome.permissions.getAll();return e.origins?.indexOf(A[0])!==-1&&e.origins?.indexOf(A[1])!==-1}var J=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,B=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,k=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function Q(e,t){if(e==="__proto__"||e==="constructor"&&t&&typeof t=="object"&&"prototype"in t){z(e);return}return t}function z(e){console.warn(`[destr] Dropping "${e}" key to prevent prototype pollution.`)}function C(e,t={}){if(typeof e!="string")return e;let o=e.trim();if(e[0]==='"'&&e.endsWith('"')&&!e.includes("\\"))return o.slice(1,-1);if(o.length<=9){let n=o.toLowerCase();if(n==="true")return!0;if(n==="false")return!1;if(n==="undefined")return;if(n==="null")return null;if(n==="nan")return Number.NaN;if(n==="infinity")return Number.POSITIVE_INFINITY;if(n==="-infinity")return Number.NEGATIVE_INFINITY}if(!k.test(e)){if(t.strict)throw new SyntaxError("[destr] Invalid JSON");return e}try{if(J.test(e)||B.test(e)){if(t.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(e,Q)}return JSON.parse(e)}catch(n){if(t.strict)throw n;return e}}var We=String.fromCharCode;var G=/#/g,K=/&/g,V=/\//g,X=/=/g;var R=/\+/g,Y=/%5e/gi,Z=/%60/gi;var v=/%7c/gi;var ee=/%20/gi;function te(e){return encodeURI(""+e).replace(v,"|")}function E(e){return te(typeof e=="string"?e:JSON.stringify(e)).replace(R,"%2B").replace(ee,"+").replace(G,"%23").replace(K,"%26").replace(Z,"`").replace(Y,"^").replace(V,"%2F")}function g(e){return E(e).replace(X,"%3D")}function N(e=""){try{return decodeURIComponent(""+e)}catch{return""+e}}function re(e){return N(e.replace(R," "))}function oe(e){return N(e.replace(R," "))}function ne(e=""){let t={};e[0]==="?"&&(e=e.slice(1));for(let o of e.split("&")){let n=o.match(/([^=]+)=?(.*)/)||[];if(n.length<2)continue;let s=re(n[1]);if(s==="__proto__"||s==="constructor")continue;let a=oe(n[2]||"");t[s]===void 0?t[s]=a:Array.isArray(t[s])?t[s].push(a):t[s]=[t[s],a]}return t}function se(e,t){return(typeof t=="number"||typeof t=="boolean")&&(t=String(t)),t?Array.isArray(t)?t.map(o=>`${g(e)}=${E(o)}`).join("&"):`${g(e)}=${E(t)}`:g(e)}function ie(e){return Object.keys(e).filter(t=>e[t]!==void 0).map(t=>se(t,e[t])).filter(Boolean).join("&")}var ae=/^[\s\w\0+.-]{2,}:([/\\]{1,2})/,ce=/^[\s\w\0+.-]{2,}:([/\\]{2})?/,ue=/^([/\\]\s*){2,}[^/\\]/;var fe=/\/$|\/\?|\/#/,he=/^\.?\//;function O(e,t={}){return typeof t=="boolean"&&(t={acceptRelative:t}),t.strict?ae.test(e):ce.test(e)||(t.acceptRelative?ue.test(e):!1)}function w(e="",t){return t?fe.test(e):e.endsWith("/")}function pe(e="",t){if(!t)return(w(e)?e.slice(0,-1):e)||"/";if(!w(e,!0))return e||"/";let o=e,n="",s=e.indexOf("#");s>=0&&(o=e.slice(0,s),n=e.slice(s));let[a,...f]=o.split("?");return((a.endsWith("/")?a.slice(0,-1):a)||"/")+(f.length>0?`?${f.join("?")}`:"")+n}function le(e="",t){if(!t)return e.endsWith("/")?e:e+"/";if(w(e,!0))return e||"/";let o=e,n="",s=e.indexOf("#");if(s>=0&&(o=e.slice(0,s),n=e.slice(s),!o))return n;let[a,...f]=o.split("?");return a+"/"+(f.length>0?`?${f.join("?")}`:"")+n}function L(e,t){if(de(t)||O(e))return e;let o=pe(t);return e.startsWith(o)?e:ye(o,e)}function j(e,t){let o=$(e),n={...ne(o.search),...t};return o.search=ie(n),ge(o)}function de(e){return!e||e==="/"}function me(e){return e&&e!=="/"}function ye(e,...t){let o=e||"";for(let n of t.filter(s=>me(s)))if(o){let s=n.replace(he,"");o=le(o)+s}else o=n;return o}var q=Symbol.for("ufo:protocolRelative");function $(e="",t){let o=e.match(/^[\s\0]*(blob:|data:|javascript:|vbscript:)(.*)/i);if(o){let[,h,l=""]=o;return{protocol:h.toLowerCase(),pathname:l,href:h+l,auth:"",host:"",search:"",hash:""}}if(!O(e,{acceptRelative:!0}))return t?$(t+e):I(e);let[,n="",s,a=""]=e.replace(/\\/g,"/").match(/^[\s\0]*([\w+.-]{2,}:)?\/\/([^/@]+@)?(.*)/)||[],[,f="",i=""]=a.match(/([^#/?]*)(.*)?/)||[];n==="file:"&&(i=i.replace(/\/(?=[A-Za-z]:)/,""));let{pathname:u,search:c,hash:r}=I(i);return{protocol:n.toLowerCase(),auth:s?s.slice(0,Math.max(0,s.length-1)):"",host:f,pathname:u,search:c,hash:r,[q]:!n}}function I(e=""){let[t="",o="",n=""]=(e.match(/([^#?]*)(\?[^#]*)?(#.*)?/)||[]).splice(1);return{pathname:t,search:o,hash:n}}function ge(e){let t=e.pathname||"",o=e.search?(e.search.startsWith("?")?"":"?")+e.search:"",n=e.hash||"",s=e.auth?e.auth+"@":"",a=e.host||"";return(e.protocol||e[q]?(e.protocol||"")+"//":"")+s+a+t+o+n}var b=class extends Error{constructor(t,o){super(t,o),this.name="FetchError",o?.cause&&!this.cause&&(this.cause=o.cause)}};function Ee(e){let t=e.error?.message||e.error?.toString()||"",o=e.request?.method||e.options?.method||"GET",n=e.request?.url||String(e.request)||"/",s=`[${o}] ${JSON.stringify(n)}`,a=e.response?`${e.response.status} ${e.response.statusText}`:"<no response>",f=`${s}: ${a}${t?` ${t}`:""}`,i=new b(f,e.error?{cause:e.error}:void 0);for(let u of["request","options","response"])Object.defineProperty(i,u,{get(){return e[u]}});for(let[u,c]of[["data","_data"],["status","status"],["statusCode","status"],["statusText","statusText"],["statusMessage","statusText"]])Object.defineProperty(i,u,{get(){return e.response&&e.response[c]}});return i}var we=new Set(Object.freeze(["PATCH","POST","PUT","DELETE"]));function F(e="GET"){return we.has(e.toUpperCase())}function Re(e){if(e===void 0)return!1;let t=typeof e;return t==="string"||t==="number"||t==="boolean"||t===null?!0:t!=="object"?!1:Array.isArray(e)?!0:e.buffer?!1:e.constructor&&e.constructor.name==="Object"||typeof e.toJSON=="function"}var be=new Set(["image/svg","application/xml","application/xhtml","application/html"]),_e=/^application\/(?:[\w!#$%&*.^`~-]*\+)?json(;.+)?$/i;function Se(e=""){if(!e)return"json";let t=e.split(";").shift()||"";return _e.test(t)?"json":be.has(t)||t.startsWith("text/")?"text":"blob"}function Te(e,t,o,n){let s=Ae(t?.headers??e?.headers,o?.headers,n),a;return(o?.query||o?.params||t?.params||t?.query)&&(a={...o?.params,...o?.query,...t?.params,...t?.query}),{...o,...t,query:a,params:a,headers:s}}function Ae(e,t,o){if(!t)return new o(e);let n=new o(t);if(e)for(let[s,a]of Symbol.iterator in e||Array.isArray(e)?e:new o(e))n.set(s,a);return n}async function m(e,t){if(t)if(Array.isArray(t))for(let o of t)await o(e);else await t(e)}var Pe=new Set([408,409,425,429,500,502,503,504]),Ce=new Set([101,204,205,304]);function _(e={}){let{fetch:t=globalThis.fetch,Headers:o=globalThis.Headers,AbortController:n=globalThis.AbortController}=e;async function s(i){let u=i.error&&i.error.name==="AbortError"&&!i.options.timeout||!1;if(i.options.retry!==!1&&!u){let r;typeof i.options.retry=="number"?r=i.options.retry:r=F(i.options.method)?0:1;let h=i.response&&i.response.status||500;if(r>0&&(Array.isArray(i.options.retryStatusCodes)?i.options.retryStatusCodes.includes(h):Pe.has(h))){let l=typeof i.options.retryDelay=="function"?i.options.retryDelay(i):i.options.retryDelay||0;return l>0&&await new Promise(p=>setTimeout(p,l)),a(i.request,{...i.options,retry:r-1})}}let c=Ee(i);throw Error.captureStackTrace&&Error.captureStackTrace(c,a),c}let a=async function(u,c={}){let r={request:u,options:Te(u,c,e.defaults,o),response:void 0,error:void 0};r.options.method&&(r.options.method=r.options.method.toUpperCase()),r.options.onRequest&&await m(r,r.options.onRequest),typeof r.request=="string"&&(r.options.baseURL&&(r.request=L(r.request,r.options.baseURL)),r.options.query&&(r.request=j(r.request,r.options.query),delete r.options.query),"query"in r.options&&delete r.options.query,"params"in r.options&&delete r.options.params),r.options.body&&F(r.options.method)&&(Re(r.options.body)?(r.options.body=typeof r.options.body=="string"?r.options.body:JSON.stringify(r.options.body),r.options.headers=new o(r.options.headers||{}),r.options.headers.has("content-type")||r.options.headers.set("content-type","application/json"),r.options.headers.has("accept")||r.options.headers.set("accept","application/json")):("pipeTo"in r.options.body&&typeof r.options.body.pipeTo=="function"||typeof r.options.body.pipe=="function")&&("duplex"in r.options||(r.options.duplex="half")));let h;if(!r.options.signal&&r.options.timeout){let p=new n;h=setTimeout(()=>{let d=new Error("[TimeoutError]: The operation was aborted due to timeout");d.name="TimeoutError",d.code=23,p.abort(d)},r.options.timeout),r.options.signal=p.signal}try{r.response=await t(r.request,r.options)}catch(p){return r.error=p,r.options.onRequestError&&await m(r,r.options.onRequestError),await s(r)}finally{h&&clearTimeout(h)}if((r.response.body||r.response._bodyInit)&&!Ce.has(r.response.status)&&r.options.method!=="HEAD"){let p=(r.options.parseResponse?"json":r.options.responseType)||Se(r.response.headers.get("content-type")||"");switch(p){case"json":{let d=await r.response.text(),D=r.options.parseResponse||C;r.response._data=D(d);break}case"stream":{r.response._data=r.response.body||r.response._bodyInit;break}default:r.response._data=await r.response[p]()}}return r.options.onResponse&&await m(r,r.options.onResponse),!r.options.ignoreResponseError&&r.response.status>=400&&r.response.status<600?(r.options.onResponseError&&await m(r,r.options.onResponseError),await s(r)):r.response},f=async function(u,c){return(await a(u,c))._data};return f.raw=a,f.native=(...i)=>t(...i),f.create=(i={},u={})=>_({...e,...u,defaults:{...e.defaults,...u.defaults,...i}}),f}var y=function(){if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")}(),Ie=y.fetch?(...e)=>y.fetch(...e):()=>Promise.reject(new Error("[ofetch] global.fetch is not supported!")),Ne=y.Headers,Oe=y.AbortController,S=_({fetch:Ie,Headers:Ne,AbortController:Oe});var Le=[EvalError,RangeError,ReferenceError,SyntaxError,TypeError,URIError,globalThis.DOMException,globalThis.AssertionError,globalThis.SystemError].filter(Boolean).map(e=>[e.name,e]),je=new Map(Le),U=je;var qe=[{property:"name",enumerable:!1},{property:"message",enumerable:!1},{property:"stack",enumerable:!1},{property:"code",enumerable:!0},{property:"cause",enumerable:!1}],T=new WeakSet,$e=e=>{T.add(e);let t=e.toJSON();return T.delete(e),t},Fe=e=>U.get(e)??Error,M=({from:e,seen:t,to:o,forceEnumerable:n,maxDepth:s,depth:a,useToJSON:f,serialize:i})=>{if(!o)if(Array.isArray(e))o=[];else if(!i&&x(e)){let c=Fe(e.name);o=new c}else o={};if(t.push(e),a>=s)return o;if(f&&typeof e.toJSON=="function"&&!T.has(e))return $e(e);let u=c=>M({from:c,seen:[...t],forceEnumerable:n,maxDepth:s,depth:a,useToJSON:f,serialize:i});for(let[c,r]of Object.entries(e)){if(r&&r instanceof Uint8Array&&r.constructor.name==="Buffer"){o[c]="[object Buffer]";continue}if(r!==null&&typeof r=="object"&&typeof r.pipe=="function"){o[c]="[object Stream]";continue}if(typeof r!="function"){if(!r||typeof r!="object"){try{o[c]=r}catch{}continue}if(!t.includes(e[c])){a++,o[c]=u(e[c]);continue}o[c]="[Circular]"}}for(let{property:c,enumerable:r}of qe)typeof e[c]<"u"&&e[c]!==null&&Object.defineProperty(o,c,{value:x(e[c])?u(e[c]):e[c],enumerable:n?!0:r,configurable:!0,writable:!0});return o};function H(e,t={}){let{maxDepth:o=Number.POSITIVE_INFINITY,useToJSON:n=!0}=t;return typeof e=="object"&&e!==null?M({from:e,seen:[],forceEnumerable:!0,maxDepth:o,depth:0,useToJSON:n,serialize:!0}):typeof e=="function"?`[Function: ${e.name||"anonymous"}]`:e}function x(e){return!!e&&typeof e=="object"&&"name"in e&&"message"in e&&"stack"in e}function W(e){chrome.runtime.onMessage.addListener((t,o,n)=>{for(let s of Object.keys(t))if(s in e)return(async()=>{try{let a=await e[s](t[s],o);n(a)}catch(a){throw n({$$error:H(a)}),a}})(),!0})}var Ue=S.create({baseURL:"https://extension-api.repeek.gg",timeout:1e4}),xe=S.create({baseURL:"https://extension-cdn.repeek.gg",timeout:1e4});chrome.runtime.onInstalled.addListener(async({reason:e})=>{if(e==="install"&&!await P()){chrome.runtime.openOptionsPage();return}});W({repeekExtensionApi:({url:e,options:t})=>Ue(e,t),repeekExtensionCdn:({url:e,options:t})=>xe(e,t)});})();
